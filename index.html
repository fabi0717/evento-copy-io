<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.1">
  <style type="text/css">
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000; min-height: 14.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Helvetica Neue'; -webkit-text-stroke: #000000"><span class="s1">Evento-Copy AI</span></h1>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p3"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p3"><span class="s1">&lt;html lang="en-US"&gt;</span></p>
<p class="p3"><span class="s1">&lt;head&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;title&gt;Evento-Copy AI - AI-Powered Marketing Strategy&lt;/title&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&amp;family=Poppins:wght@800&amp;display=swap" rel="stylesheet"&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;style&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>body { font-family: 'Inter', sans-serif; } .logo-font { font-family: 'Poppins', sans-serif; } .fade-in { animation: fadeIn 0.5s ease-in-out forwards; } @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } .sidebar-button.active { background-color: #eef2ff; color: #4338ca; font-weight: 600; } .prose h3 { margin-top: 0; font-size: 1.75em; font-weight: 800; color: #111827;} .prose h4 { margin-top: 1.5em; font-size: 1.1em; font-weight: 700; color: #1f2937;} .modal-message { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; } .modal-content { background-color: #fefefe; padding: 24px; border-radius: 12px; width: 90%; max-width: 450px; } .close-button { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; } .auth-message { min-height: 24px; text-align: center; font-weight: 500; }</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</span></p>
<p class="p3"><span class="s1">&lt;/head&gt;</span></p>
<p class="p3"><span class="s1">&lt;body class="bg-slate-50 text-slate-900"&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="app" class="min-h-screen flex flex-col items-center p-4 md:p-8"&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>&lt;header class="w-full max-w-7xl mx-auto flex justify-between items-center py-4"&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div id="logo-btn" class="inline-flex items-center group cursor-pointer"&gt;&lt;div class="flex items-center justify-center w-10 h-10 mr-3 bg-gradient-to-br from-indigo-600 to-purple-500 rounded-xl shadow-lg"&gt;&lt;svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"&gt;&lt;path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846-.813a4.5 4.5 0 00-3.09 3.09z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;span class="logo-font text-3xl font-extrabold text-slate-800"&gt;Evento-Copy AI&lt;/span&gt;&lt;/div&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">             </span>&lt;div id="auth-container" class="flex items-center space-x-4"&gt;&lt;/div&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/header&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>&lt;main class="w-full max-w-7xl mx-auto flex-grow flex flex-col"&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div id="homepage" class="py-16 md:py-24 fade-in"&gt;&lt;div class="text-center mb-12"&gt;&lt;h2 class="text-5xl md:text-7xl font-black mb-4 leading-tight"&gt;&lt;span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600"&gt;AI-Powered Marketing.&lt;/span&gt;&lt;br&gt;&lt;span&gt;Instant Strategy.&lt;/span&gt;&lt;/h2&gt;&lt;p class="text-lg text-slate-600 max-w-3xl mx-auto"&gt;From a single idea to a comprehensive, presentation-ready marketing plan in seconds. Let our AI build your entire campaign.&lt;/p&gt;&lt;/div&gt;&lt;div id="generator-section" class="hidden bg-white p-8 md:p-10 rounded-3xl shadow-xl border"&gt;&lt;div id="generations-counter-container" class="text-center text-sm text-slate-500 mb-6"&gt;&lt;/div&gt;&lt;div class="max-w-4xl mx-auto space-y-6"&gt;&lt;div&gt;&lt;label for="eventName" class="text-lg text-slate-800 font-semibold"&gt;Event Name&lt;/label&gt;&lt;input type="text" id="eventName" class="mt-1 block w-full bg-slate-100 rounded-md px-3 py-2" value="Global Fintech Conference"&gt;&lt;/div&gt;&lt;div&gt;&lt;label for="targetAudience" class="text-lg text-slate-800 font-semibold"&gt;Target Audience&lt;/label&gt;&lt;input type="text" id="targetAudience" class="mt-1 block w-full bg-slate-100 rounded-md px-3 py-2" value="Bank Executives"&gt;&lt;/div&gt;&lt;div&gt;&lt;label for="eventTopic" class="text-lg text-slate-800 font-semibold"&gt;Key Topic&lt;/label&gt;&lt;input type="text" id="eventTopic" class="mt-1 block w-full bg-slate-100 rounded-md px-3 py-2" value="Future of Digital Currency"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="mt-10 text-center"&gt;&lt;button id="generate-btn" class="bg-indigo-600 text-white font-bold py-4 px-10 text-lg rounded-xl hover:bg-indigo-700"&gt;&lt;span id="generate-btn-text"&gt;Build My Strategy&lt;/span&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div id="signup-page" class="hidden py-16 fade-in"&gt;&lt;div class="max-w-md mx-auto bg-white p-8 rounded-3xl shadow-xl"&gt;&lt;h2 class="text-3xl font-bold text-center mb-6"&gt;Start Your Free Trial&lt;/h2&gt;&lt;form id="signup-form" class="space-y-6"&gt;&lt;div id="signup-message" class="auth-message"&gt;&lt;/div&gt;&lt;div&gt;&lt;label for="signup-name"&gt;Full Name&lt;/label&gt;&lt;input type="text" id="signup-name" class="mt-1 block w-full bg-slate-100 rounded-md p-2" required&gt;&lt;/div&gt;&lt;div&gt;&lt;label for="signup-email"&gt;Email Address&lt;/label&gt;&lt;input type="email" id="signup-email" autocomplete="off" class="mt-1 block w-full bg-slate-100 rounded-md p-2" required&gt;&lt;/div&gt;&lt;div&gt;&lt;label for="signup-password"&gt;Create Password&lt;/label&gt;&lt;input type="password" id="signup-password" autocomplete="off" class="mt-1 block w-full bg-slate-100 rounded-md p-2" required&gt;&lt;/div&gt;&lt;button type="submit" class="w-full bg-indigo-600 text-white font-bold py-3 rounded-xl hover:bg-indigo-700"&gt;Create Account&lt;/button&gt;&lt;/form&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div id="strategy-dashboard" class="hidden w-full flex-grow py-8 fade-in"&gt;&lt;div class="bg-white rounded-2xl shadow-xl border"&gt;&lt;div class="p-6 border-b"&gt;&lt;div&gt;&lt;h3 id="dashboard-title" class="text-2xl font-bold"&gt;&lt;/h3&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="flex"&gt;&lt;aside id="sidebar" class="w-1/4 border-r p-6"&gt;&lt;nav id="sidebar-nav" class="flex flex-col space-y-2"&gt;&lt;/nav&gt;&lt;/aside&gt;&lt;main id="dashboard-content" class="w-3/4 p-8 prose max-w-none"&gt;&lt;/main&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/main&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script type="module"&gt;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>import { getAuth, createUserWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>import { getFirestore, doc, setDoc, onSnapshot, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>const firebaseConfig = {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>apiKey: "AIzaSyDWi09jT79AEKn1bqW8Z1L10Ih9VNFTYrA",</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>authDomain: "evento-copy-ai-4527c.firebaseapp.com",</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>projectId: "evento-copy-ai-4527c",</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>const app = initializeApp(firebaseConfig);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>const auth = getAuth(app);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>const db = getFirestore(app);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>let state = { currentUser: null, freeGenerations: 0, currentPage: 'signup' };</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>const dom = {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>pages: { homepage: document.getElementById('homepage'), signup: document.getElementById('signup-page'), dashboard: document.getElementById('strategy-dashboard') },</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>authContainer: document.getElementById('auth-container'),</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>generatorSection: document.getElementById('generator-section'),</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>generationsCounter: document.getElementById('generations-counter-container'),</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>signupForm: document.getElementById('signup-form'),</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>generateBtn: document.getElementById('generate-btn'),</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>dashboardTitle: document.getElementById('dashboard-title'),</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>sidebarNav: document.getElementById('sidebar-nav'),</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>dashboardContent: document.getElementById('dashboard-content'),</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>let unsubscribe;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>const showPage = (pageName) =&gt; {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>Object.values(dom.pages).forEach(p =&gt; p.classList.add('hidden'));</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>if (dom.pages[pageName]) dom.pages[pageName].classList.remove('hidden');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>const showAuthMessage = (form, text, isError = false) =&gt; {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>const el = document.getElementById(`${form}-message`);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>if (el) { el.textContent = text; el.className = `auth-message ${isError ? 'text-red-500' : 'text-green-500'}`; }</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>onAuthStateChanged(auth, user =&gt; {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>if (unsubscribe) unsubscribe();</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>if (user) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>state.currentUser = user;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>const userDocRef = doc(db, 'users', user.uid);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>unsubscribe = onSnapshot(userDocRef, docSnap =&gt; {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>if (!docSnap.exists()) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                        </span>setDoc(userDocRef, { email: user.email, name: user.displayName, freeGenerations: 1 });</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>} else {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                        </span>state.freeGenerations = docSnap.data().freeGenerations ?? 0;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>renderUI(user);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>state.currentUser = null;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>renderUI(null);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>function renderUI(user) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>if (user) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.authContainer.innerHTML = `&lt;span class="font-medium"&gt;Welcome, ${user.displayName || user.email}!&lt;/span&gt;&lt;button id="logout-btn" class="ml-4 text-indigo-600 font-semibold"&gt;Log Out&lt;/button&gt;`;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.authContainer.querySelector('#logout-btn').addEventListener('click', () =&gt; signOut(auth));</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.generationsCounter.innerHTML = state.freeGenerations &gt; 0 ? `&lt;p class="text-green-600 font-semibold"&gt;You have ${state.freeGenerations} free generation remaining.&lt;/p&gt;` : `&lt;p class="text-red-500"&gt;No free generations remaining.&lt;/p&gt;`;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.generatorSection.classList.remove('hidden');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>showPage('homepage');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.authContainer.innerHTML = `&lt;button id="nav-signup-btn" class="bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg"&gt;Sign Up&lt;/button&gt;`;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.authContainer.querySelector('#nav-signup-btn').addEventListener('click', () =&gt; showPage('signup'));</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>showPage('signup');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>dom.signupForm.addEventListener('submit', async (e) =&gt; {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>e.preventDefault();</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>const [name, email, password] = [document.getElementById('signup-name').value, document.getElementById('signup-email').value, document.getElementById('signup-password').value];</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>showAuthMessage('signup', 'Creating account...');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>try {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>const cred = await createUserWithEmailAndPassword(auth, email, password);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>await updateProfile(cred.user, { displayName: name });</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>} catch (error) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>showAuthMessage('signup', error.message, true);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>dom.generateBtn.addEventListener('click', async () =&gt; {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>if (state.freeGenerations &lt;= 0) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>alert("No free generations left.");</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>return;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>const btnText = document.getElementById('generate-btn-text');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>btnText.textContent = "Generating...";</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>dom.generateBtn.disabled = true;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>try {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>const [eventName, targetAudience, eventTopic] = [document.getElementById('eventName').value, document.getElementById('targetAudience').value, document.getElementById('eventTopic').value];</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>const response = await fetch('/api/generate', {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>method: 'POST',</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>headers: { 'Content-Type': 'application/json' },</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>body: JSON.stringify({ prompt: `Generate a detailed marketing plan in JSON for an event named "${eventName}" targeting "${targetAudience}" with the key topic of "${eventTopic}". CRITICAL: The response MUST include a non-empty 'sections' object.` }),</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>if (!response.ok) throw new Error(`API Error: ${response.statusText}`);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>const result = await response.json();</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>if (!result.success) throw new Error(result.error || 'Unknown error');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>const campaignData = JSON.parse(result.text);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>renderDashboard(campaignData);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>await updateDoc(doc(db, 'users', state.currentUser.uid), { freeGenerations: 0 });</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>} catch (error) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>alert(`Error: ${error.message}`);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>} finally {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>btnText.textContent = "Build My Strategy";</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.generateBtn.disabled = false;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>function renderDashboard(campaign) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>if (!campaign || !campaign.sections) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>alert("The generated strategy was empty or malformed.");</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>return;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>showPage('dashboard');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>dom.dashboardTitle.textContent = `Strategy: ${campaign.eventName || 'Untitled'}`;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>const sections = campaign.sections;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>const tabs = Object.keys(sections);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>dom.sidebarNav.innerHTML = '';</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>tabs.forEach((key, index) =&gt; {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>const button = document.createElement('button');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>button.className = 'sidebar-button w-full text-left py-2 px-4 rounded-lg';</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>if (index === 0) button.classList.add('active');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>button.textContent = key.replace(/_/g, ' ');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>button.addEventListener('click', () =&gt; {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>dom.sidebarNav.querySelectorAll('.sidebar-button').forEach(btn =&gt; btn.classList.remove('active'));</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>button.classList.add('active');</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                    </span>dom.dashboardContent.innerHTML = `&lt;h3&gt;${key.replace(/_/g, ' ')}&lt;/h3&gt;&lt;div&gt;${sections[key]}&lt;/div&gt;`;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.sidebarNav.appendChild(button);</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>if (tabs.length &gt; 0) {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.dashboardContent.innerHTML = `&lt;h3&gt;${tabs[0].replace(/_/g, ' ')}&lt;/h3&gt;&lt;div&gt;${sections[tabs[0]]}&lt;/div&gt;`;</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">                </span>dom.dashboardContent.innerHTML = '&lt;p&gt;No sections to display.&lt;/p&gt;';</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</span></p>
<p class="p3"><span class="s1">&lt;/body&gt;</span></p>
<p class="p3"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
